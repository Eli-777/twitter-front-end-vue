(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e6f44f6"],{"40bb":function(t,e,a){},"4b4c":function(t,e,a){},c53b:function(t,e,a){"use strict";var r=a("4b4c"),n=a.n(r);n.a},cc95:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("Navbar"),a("div",{staticClass:"center-area",staticStyle:{width:"33rem"}},[a("div",{staticClass:"header"},[a("button",{staticClass:"header-button",attrs:{type:"button"},on:{click:function(e){return t.$router.back()}}},[t._v("←")]),a("div",{staticClass:"header-text m-3"},[a("p",{staticClass:"header-name"},[t._v(t._s(t.user.name))]),a("p",{staticClass:"header-userTweets"},[t._v(t._s(t.user.tweetCount)+"推文")])])]),a("ul",{staticClass:"nav nav-pills",attrs:{id:"nav-tab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-follower",params:{id:t.$route.params.id}},"data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"}},[t._v("跟隨者")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false",to:{name:"user-following",params:{id:t.$route.params.id}}}},[t._v("正在跟隨")])],1)]),t.isLoading?a("Spinner"):[a("div",{staticClass:"tweet-cards overflow-auto"},t._l(t.followings,(function(t){return a("div",{key:t.id,staticClass:"tweetcard"},[a("UserFollowingCards",{attrs:{"initial-following":t}})],1)})),0),t.followings.length<1?a("div",{staticClass:"noFollowing"},[t._v("尚無跟隨其他使用者")]):t._e()]],2),a("MostFollowerUserRecommend"),a("TweetCreate")],1)},n=[],o=(a("96cf"),a("1da1")),s=a("d178"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tweetcard"},[a("router-link",{attrs:{to:{name:"user-tweets",params:{id:t.following.followingId}}}},[a("img",{staticClass:"tweetcard-avatar",attrs:{src:t._f("emptyImage")(t.following.avatar),width:"50rem",height:"50rem"}})]),a("div",{staticClass:"tweetcard-right mt-2 mb-2"},[a("div",{staticClass:"tweetcard-right-top"},[a("div",{staticClass:"tweetcard-title"},[t._v(" "+t._s(t.following.name)+" "),a("br"),a("span",{staticClass:"tweetcard-account"},[t._v("@"+t._s(t.following.account))])]),t.currentUser.id!==t.following.followingId?a("div",{staticClass:"tweetcard-icon mr-3"},[t.following.isFollowedByLoginUser?a("button",{staticClass:"tweetcard-button isFollowed",class:{isFollowed:t.following.isFollowed},attrs:{type:"submit"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollow(t.following.followingId)}}},[t._v("正在跟隨")]):a("button",{staticClass:"tweetcard-button",class:{isFollowed:t.following.isFollowed},attrs:{type:"submit"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollow(t.following.followingId)}}},[t._v("跟隨")])]):t._e()]),a("div",{staticClass:"tweetcard-content"},[t._v(t._s(t.following.introduction))])])],1)},l=[],c=(a("d3b7"),a("25f0"),a("5530")),u=a("2708"),d=a("2fa3"),w=a("4cce"),f=a("2f62"),g={mixins:[u["a"]],props:{initialFollowing:{type:Object,required:!0}},data:function(){return{following:{}}},computed:Object(c["a"])({},Object(f["b"])(["currentUser"])),created:function(){this.fetchFollowing()},methods:{fetchFollowing:function(){this.following=this.initialFollowing},addFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r=t.toString(),a.next=4,w["a"].addFollowing({id:r});case 4:if(n=a.sent,o=n.data,"error"!==o.status){a.next=8;break}throw new Error(o.message);case 8:e.following=Object(c["a"])(Object(c["a"])({},e.following),{},{isFollowedByLoginUser:!0}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),console.log(a.t0.message),d["a"].fire({icon:"error",title:"無法追蹤使用者稍後再試"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},deleteFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w["a"].deleteFollowing({userId:t});case 3:if(r=a.sent,n=r.data,"error"!==n.status){a.next=7;break}throw new Error(n.message);case 7:e.following=Object(c["a"])(Object(c["a"])({},e.following),{},{isFollowedByLoginUser:!1}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0.message),d["a"].fire({icon:"error",title:"無法取消追蹤使用者稍後再試"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}},v=g,m=(a("c53b"),a("2877")),p=Object(m["a"])(v,i,l,!1,null,"83d5096c",null),h=p.exports,b=a("0c9e"),C=a("9fe7"),F=a("2375"),_={components:{Navbar:s["a"],UserFollowingCards:h,MostFollowerUserRecommend:b["a"],TweetCreate:C["a"],Spinner:F["a"]},data:function(){return{user:{},followings:[],isLoading:!0}},created:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchFollowing(t)},beforeRouteUpdate:function(t,e,a){var r=t.params.id;this.fetchUser(r),this.fetchFollowing(r),a()},methods:{fetchUser:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w["a"].get({userId:t});case 3:r=a.sent,n=r.data,e.user=n,a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log(a.t0.message),d["a"].fire({icon:"error",title:"無法取得使用者者資料，請稍後再試"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},fetchFollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w["a"].getFollowing({userId:t});case 3:if(r=a.sent,n=r.data,e.followings=n,e.followings=e.followings.sort((function(t,e){return t=new Date(t.created_at),e=new Date(e.created_at),e-t})),"error"!==n.status){a.next=9;break}throw new Error(n.message);case 9:e.isLoading=!1,a.next=17;break;case 12:a.prev=12,a.t0=a["catch"](0),e.isLoading=!1,console.log(a.t0.message),d["a"].fire({icon:"error",title:"無法取得正在跟隨者資料，請稍後再試"});case 17:case"end":return a.stop()}}),a,null,[[0,12]])})))()}}},k=_,x=(a("d2a9"),Object(m["a"])(k,r,n,!1,null,"80d66e68",null));e["default"]=x.exports},d2a9:function(t,e,a){"use strict";var r=a("40bb"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-2e6f44f6.70ba1554.js.map