(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bc79c2d"],{"76e7":function(e,t,s){"use strict";var a=s("7ba6"),r=s.n(a);r.a},"7ba6":function(e,t,s){},da5c:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("Navbar",{attrs:{"initial-now-page":e.nowPage}}),s("form",{staticClass:"center-area w-100",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[s("div",{staticClass:"form-width col-12"},[e._m(0),s("div",{staticClass:"form-label-group text-center mb-3"},[s("label",{staticClass:"input-title",attrs:{for:"account"}},[e._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.account,expression:"User.account"}],attrs:{id:"account",name:"account",type:"text",placeholder:"",autocomplete:"account",required:"",autofocus:""},domProps:{value:e.User.account},on:{input:function(t){t.target.composing||e.$set(e.User,"account",t.target.value)}}})]),s("div",{staticClass:"form-label-group text-center mb-3"},[s("label",{staticClass:"input-title",attrs:{for:"name"}},[e._v("名稱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.name,expression:"User.name"}],attrs:{id:"name",name:"name",type:"text",placeholder:"",autocomplete:"name",required:""},domProps:{value:e.User.name},on:{input:function(t){t.target.composing||e.$set(e.User,"name",t.target.value)}}})]),s("div",{staticClass:"form-label-group text-center mb-3"},[s("label",{staticClass:"input-title",attrs:{for:"email"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.email,expression:"User.email"}],attrs:{id:"email",name:"email",type:"email",placeholder:"",autocomplete:"email",required:""},domProps:{value:e.User.email},on:{input:function(t){t.target.composing||e.$set(e.User,"email",t.target.value)}}})]),s("div",{staticClass:"form-label-group text-center mb-3"},[s("label",{staticClass:"input-title",attrs:{for:"password"}},[e._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.password,expression:"User.password"}],attrs:{id:"password",name:"password",type:"password",placeholder:"",autocomplete:"new-password",required:""},domProps:{value:e.User.password},on:{input:function(t){t.target.composing||e.$set(e.User,"password",t.target.value)}}})]),s("div",{staticClass:"form-label-group text-center mb-4"},[s("label",{staticClass:"input-title",attrs:{for:"password-check"}},[e._v("密碼確認")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.User.passwordCheck,expression:"User.passwordCheck"}],attrs:{id:"password-check",name:"passwordCheck",type:"password",placeholder:"",autocomplete:"new-password",required:""},domProps:{value:e.User.passwordCheck},on:{input:function(t){t.target.composing||e.$set(e.User,"passwordCheck",t.target.value)}}})]),s("button",{staticClass:"submit-button mb-3 action bottom-text-big",attrs:{disabled:e.isProcessing,type:"submit"}},[e._v(e._s(e.isProcessing?"處理中...":"儲存"))])])]),s("TweetCreate")],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-title mt-4"},[s("h3",{staticClass:"title"},[e._v("帳戶設定")])])}],o=(s("b0c0"),s("96cf"),s("1da1")),n=s("5530"),i=s("d178"),c=s("9fe7"),l=s("4cce"),u=s("2fa3"),m=s("2f62"),p={components:{Navbar:i["a"],TweetCreate:c["a"]},data:function(){return{User:{id:-1,account:"",name:"",email:"",password:"",passwordCheck:""},isProcessing:!1,nowPage:"setting"}},computed:Object(n["a"])({},Object(m["b"])(["currentUser"])),created:function(){this.fetchUser()},methods:{fetchUser:function(){var e=this.currentUser;this.User=Object(n["a"])(Object(n["a"])({},this.User),{},{id:e.id,account:e.account,name:e.name,email:e.email,password:e.password,passwordCheck:e.password})},handleSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.isProcessing=!0,e.User.account&&e.User.name&&e.User.email&&e.User.password&&e.User.passwordCheck){t.next=8;break}return u["a"].fire({icon:"error",title:"請確認已填寫所有欄位"}),e.isProcessing=!1,t.abrupt("return");case 8:if(e.User.password===e.User.passwordCheck){t.next=13;break}return u["a"].fire({icon:"error",title:"兩次輸入密碼不同"}),e.isProcessing=!1,e.User.passwordCheck="",t.abrupt("return");case 13:return t.next=15,l["a"].update({userId:e.currentUser.id,account:e.User.account,name:e.User.name,email:e.User.email,password:e.User.password});case 15:if(s=t.sent,a=s.data,"success"===a.status){t.next=19;break}throw new Error(a.message);case 19:e.$store.commit("setCurrentUser",{id:e.User.id,account:e.User.account,name:e.User.name,email:e.User.email}),u["a"].fire({icon:"success",title:"儲存成功！"}),e.isProcessing=!1,t.next=29;break;case 24:t.prev=24,t.t0=t["catch"](0),e.isProcessing=!1,console.error(t.t0.message),u["a"].fire({icon:"error",title:t.t0.message});case 29:case"end":return t.stop()}}),t,null,[[0,24]])})))()}}},d=p,w=(s("76e7"),s("2877")),v=Object(w["a"])(d,a,r,!1,null,"6e3b7a9a",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-6bc79c2d.b45b04f6.js.map