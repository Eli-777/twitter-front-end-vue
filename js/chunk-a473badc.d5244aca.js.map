{"version":3,"sources":["webpack:///./src/views/UserProfilePage.vue?003b","webpack:///./src/components/CurrentUserCard.vue?ebca","webpack:///src/components/CurrentUserCard.vue","webpack:///./src/components/CurrentUserCard.vue?5709","webpack:///./src/components/CurrentUserCard.vue?d373","webpack:///src/views/UserProfilePage.vue","webpack:///./src/views/UserProfilePage.vue?0c00","webpack:///./src/views/UserProfilePage.vue","webpack:///./src/components/CurrentUserCard.vue?70b3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nowPage","key","componentKey","User","on","afteraddFollowUser","afterdeleteFollowUser","isProcessing","handleAfterSubmit","afterCreateTweet","staticRenderFns","staticStyle","$event","$router","back","_v","_s","user","name","tweetCount","_f","cover","avatar","currentUser","id","isBelled","stopPropagation","preventDefault","deleteBell","_e","addBell","isFollowed","addFollow","deleteFollow","account","introduction","params","followingCount","followerCount","showtweets","userTweets","length","_l","tweet","afterAddLike","afterDeleteLike","isFirstLoad","replieds","likeds","mixins","components","TweetCards","Spinner","RepliedLikedTweetCards","props","initialUser","type","Object","required","data","isLoading","isLoad","watch","deep","computed","created","fetchUser","fetchUserTweets","fetchUserRepliedTweets","fetchUserLikedTweets","methods","page","component","Navbar","CurrentUserCard","UserPageEdit","TweetCreate","MostFollowerUserRecommend"],"mappings":"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","file":"js/chunk-a473badc.d5244aca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('Navbar',{attrs:{\"initial-now-page\":_vm.nowPage}}),_c('CurrentUserCard',{key:_vm.componentKey,attrs:{\"initial-user\":_vm.User}}),_c('MostFollowerUserRecommend',{on:{\"after-add-follow-user\":_vm.afteraddFollowUser,\"after-delete-follow-user\":_vm.afterdeleteFollowUser}}),_c('UserPageEdit',{attrs:{\"initial-user\":_vm.User,\"initial-is-processing\":_vm.isProcessing},on:{\"after-submit\":_vm.handleAfterSubmit}}),_c('TweetCreate',{on:{\"after-create-tweet\":_vm.afterCreateTweet}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"center-area\",staticStyle:{\"width\":\"33rem\"}},[_c('div',{staticClass:\"header\"},[_c('button',{staticClass:\"header-button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"←\")]),_c('div',{staticClass:\"header-text m-3\"},[_c('p',{staticClass:\"header-name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"header-userTweets\"},[_vm._v(_vm._s(_vm.user.tweetCount)+\"推文\")])])]),_c('img',{staticClass:\"card-img-top backgroundImage\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.cover),\"height\":\"150px\"}}),_c('div',{staticClass:\"card-body\"},[_c('img',{staticClass:\"card-img-avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.avatar),\"height\":\"140px\",\"width\":\"140px\"}}),_c('div',{staticClass:\"card-body-button\"},[(_vm.currentUser.id === this.user.id)?_c('button',{staticClass:\"btn edit-profile-button\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#user-edit-modal\"}},[_vm._v(\"編輯個人資料\")]):_c('button',{staticClass:\"button-transparent\"},[_c('img',{attrs:{\"src\":require(\"./../assets/messege-button@2x.png\")}})]),(_vm.user.isBelled && !(_vm.currentUser.id === this.user.id))?_c('button',{staticClass:\"button-transparent-active\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteBell($event)}}},[_c('img',{attrs:{\"src\":require(\"./../assets/isbell.png\")}})]):_vm._e(),(!_vm.user.isBelled &&!(_vm.currentUser.id === this.user.id))?_c('button',{staticClass:\"button-transparent\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addBell($event)}}},[_c('img',{attrs:{\"src\":require(\"./../assets/notbell.png\")}})]):_vm._e(),(!_vm.user.isFollowed && !(_vm.currentUser.id === this.user.id))?_c('button',{staticClass:\"btn button-follow\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollow($event)}}},[_vm._v(\"跟隨\")]):_vm._e(),(_vm.user.isFollowed && !(_vm.currentUser.id === this.user.id))?_c('button',{staticClass:\"btn button-following\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollow($event)}}},[_vm._v(\"正在跟隨\")]):_vm._e()]),_c('div',{staticClass:\"card-body-text\"},[_c('h5',{staticClass:\"card-body-name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"card-body-account\"},[_vm._v(\"@\"+_vm._s(_vm.user.account))]),_c('p',{staticClass:\"card-body-introduction\"},[_vm._v(_vm._s(_vm.user.introduction))])]),_c('div',{staticClass:\"card-body-follow\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-following', params :{ id: _vm.currentUser.id}}}},[_vm._v(\" \"+_vm._s(_vm.user.followingCount)+\" 個 \"),_c('span',[_vm._v(\"跟隨中\")])]),_c('router-link',{attrs:{\"to\":{ name: 'user-follower', params :{ id: _vm.currentUser.id}}}},[_vm._v(\" \"+_vm._s(_vm.user.followerCount)+\" 位 \"),_c('span',[_vm._v(\"跟隨者\")])])],1)]),_c('ul',{staticClass:\"nav nav-pills\",attrs:{\"id\":\"nav-tab\",\"role\":\"tablist\"}},[_c('li',{staticClass:\"nav-item\",on:{\"click\":function($event){return _vm.showtweets('userTweet')}}},[_c('router-link',{staticClass:\"nav-link active\",attrs:{\"to\":\"#\",\"data-toggle\":\"tab\",\"href\":\"#nav-home\",\"role\":\"tab\",\"aria-controls\":\"nav-home\",\"aria-selected\":\"true\"}},[_vm._v(\"推文\")])],1),_c('li',{staticClass:\"nav-item\",on:{\"click\":function($event){return _vm.showtweets('replied')}}},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#nav-profile\",\"role\":\"tab\",\"aria-controls\":\"nav-profile\",\"aria-selected\":\"false\",\"to\":\"#\"}},[_vm._v(\"推文和回覆\")])],1),_c('li',{staticClass:\"nav-item\",on:{\"click\":function($event){return _vm.showtweets('liked')}}},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#nav-contact\",\"role\":\"tab\",\"aria-controls\":\"nav-contact\",\"aria-selected\":\"false\",\"to\":\"#\"}},[_vm._v(\"喜歡的內容\")])],1)]),(_vm.isLoading)?_c('Spinner'):[((_vm.nowPage === 'userTweet' && _vm.userTweets.length > 0))?_c('div',{staticClass:\"tweet-cards\"},_vm._l((_vm.userTweets),function(tweet){return _c('TweetCards',{key:tweet.id,attrs:{\"initial-user-tweet\":tweet},on:{\"after-add-like\":_vm.afterAddLike,\"after-delete-like\":_vm.afterDeleteLike}})}),1):((_vm.nowPage === 'userTweet' && _vm.userTweets.length === 0 && !_vm.isFirstLoad))?_c('div',{staticClass:\"nodata-sign\"},[_vm._v(\"使用者尚無推文\")]):_vm._e(),((_vm.nowPage === 'replied' && _vm.replieds.length > 0))?_c('div',{staticClass:\"tweet-cards\"},_vm._l((_vm.replieds),function(tweet){return _c('RepliedLikedTweetCards',{key:tweet.id,attrs:{\"initial-user-tweet\":tweet},on:{\"after-add-like\":_vm.afterAddLike,\"after-delete-like\":_vm.afterDeleteLike}})}),1):_vm._e(),((_vm.nowPage === 'replied' && _vm.replieds.length === 0))?_c('div',{staticClass:\"nodata-sign\"},[_vm._v(\"使用者尚無回覆\")]):_vm._e(),((_vm.nowPage === 'liked' && _vm.likeds.length > 0))?_c('div',{staticClass:\"tweet-cards\"},_vm._l((_vm.likeds),function(tweet){return _c('RepliedLikedTweetCards',{key:tweet.id,attrs:{\"initial-user-tweet\":tweet},on:{\"after-add-like\":_vm.afterAddLike,\"after-delete-like\":_vm.afterDeleteLike}})}),1):_vm._e(),((_vm.nowPage === 'liked' && _vm.likeds.length === 0))?_c('div',{staticClass:\"nodata-sign\"},[_vm._v(\"使用者尚無按讚\")]):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"center-area\" style=\"width: 33rem;\">\n    <div class=\"header\">\n      <button type=\"button\" class=\"header-button\" @click=\"$router.back()\">&larr;</button>\n      <div class=\"header-text m-3\">\n        <p class=\"header-name\">{{user.name}}</p>\n        <p class=\"header-userTweets\">{{user.tweetCount}}推文</p>\n      </div>\n    </div>\n    <img :src=\" user.cover | emptyImage\" class=\"card-img-top backgroundImage\" height=\"150px\" />\n    <div class=\"card-body\">\n      <img :src=\" user.avatar | emptyImage\" class=\"card-img-avatar\" height=\"140px\" width=\"140px\" />\n      <div class=\"card-body-button\">\n        <button\n          v-if=\"currentUser.id === this.user.id\"\n          class=\"btn edit-profile-button\"\n          data-toggle=\"modal\"\n          data-target=\"#user-edit-modal\"\n        >編輯個人資料</button>\n        <button class=\"button-transparent\" v-else>\n          <img src=\"./../assets/messege-button@2x.png\" />\n        </button>\n        <button\n          v-if=\"user.isBelled && !(currentUser.id === this.user.id)\"\n          class=\"button-transparent-active\"\n          @click.stop.prevent=\"deleteBell\"\n        >\n          <img src=\"./../assets/isbell.png\" />\n        </button>\n        <button\n          v-if=\"!user.isBelled &&!(currentUser.id === this.user.id)\"\n          class=\"button-transparent\"\n          @click.stop.prevent=\"addBell\"\n        >\n          <img src=\"./../assets/notbell.png\" />\n        </button>\n        <button\n          v-if=\"!user.isFollowed && !(currentUser.id === this.user.id)\"\n          class=\"btn button-follow\"\n          @click.stop.prevent=\"addFollow\"\n        >跟隨</button>\n        <button\n          v-if=\"user.isFollowed && !(currentUser.id === this.user.id)\"\n          class=\"btn button-following\"\n          @click.stop.prevent=\"deleteFollow\"\n        >正在跟隨</button>\n      </div>\n      <div class=\"card-body-text\">\n        <h5 class=\"card-body-name\">{{user.name}}</h5>\n        <p class=\"card-body-account\">@{{user.account}}</p>\n        <p class=\"card-body-introduction\">{{user.introduction}}</p>\n      </div>\n      <div class=\"card-body-follow\">\n        <router-link :to=\"{ name: 'user-following', params :{ id: currentUser.id}}\">\n          {{user.followingCount}} 個\n          <span>跟隨中</span>\n        </router-link>\n        <router-link :to=\"{ name: 'user-follower', params :{ id: currentUser.id}}\">\n          {{user.followerCount}} 位\n          <span>跟隨者</span>\n        </router-link>\n      </div>\n    </div>\n\n    <ul class=\"nav nav-pills\" id=\"nav-tab\" role=\"tablist\">\n      <li class=\"nav-item\" @click=\"showtweets('userTweet')\" >\n        <router-link\n          class=\"nav-link active\"\n          to=\"#\"\n          data-toggle=\"tab\"\n          href=\"#nav-home\"\n          role=\"tab\"\n          aria-controls=\"nav-home\"\n          aria-selected=\"true\"\n        >推文</router-link>\n      </li>\n      <li class=\"nav-item\" @click=\"showtweets('replied')\" >\n        <router-link\n          class=\"nav-link\"\n          data-toggle=\"tab\"\n          href=\"#nav-profile\"\n          role=\"tab\"\n          aria-controls=\"nav-profile\"\n          aria-selected=\"false\"\n          to=\"#\"\n        >推文和回覆</router-link>\n      </li>\n      <li class=\"nav-item\" @click=\"showtweets('liked')\" >\n        <router-link\n          class=\"nav-link\"\n          data-toggle=\"tab\"\n          href=\"#nav-contact\"\n          role=\"tab\"\n          aria-controls=\"nav-contact\"\n          aria-selected=\"false\"\n          to=\"#\"\n        >喜歡的內容</router-link>\n      </li>\n    </ul>\n    <Spinner v-if=\"isLoading\" />\n    <template v-else>\n      <!-- 推文 -->\n      <div class=\"tweet-cards\" v-if=\"(nowPage === 'userTweet' && userTweets.length > 0)\">\n          <TweetCards\n            v-for=\"tweet in userTweets\"\n            :key=\"tweet.id\"\n            :initial-user-tweet=\"tweet\"\n            @after-add-like=\"afterAddLike\"\n            @after-delete-like=\"afterDeleteLike\"\n          />\n        </div>\n        <div v-else-if=\"(nowPage === 'userTweet' && userTweets.length === 0 && !isFirstLoad)\" class=\"nodata-sign\">使用者尚無推文</div>\n        <div class=\"tweet-cards\" v-if=\"(nowPage === 'replied' && replieds.length > 0)\">\n          <RepliedLikedTweetCards\n            v-for=\"tweet in replieds\"\n            :key=\"tweet.id\"\n            :initial-user-tweet=\"tweet\"\n            @after-add-like=\"afterAddLike\"\n            @after-delete-like=\"afterDeleteLike\"\n          />\n        </div>\n        <div v-if=\"(nowPage === 'replied' && replieds.length === 0)\" class=\"nodata-sign\">使用者尚無回覆</div>\n        <div class=\"tweet-cards\" v-if=\"(nowPage === 'liked' && likeds.length > 0)\">\n          <RepliedLikedTweetCards\n            v-for=\"tweet in likeds\"\n            :key=\"tweet.id\"\n            :initial-user-tweet=\"tweet\"\n            @after-add-like=\"afterAddLike\"\n            @after-delete-like=\"afterDeleteLike\"\n          />\n        </div>\n        <div v-if=\"(nowPage === 'liked' && likeds.length === 0)\" class=\"nodata-sign\">使用者尚無按讚</div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport TweetCards from \"./../components/TweetCards\";\nimport RepliedLikedTweetCards from \"./../components/RepliedLikedTweetCards\";\nimport Spinner from \"./../components/Spinner\";\nimport usersAPI from \"./../apis/users\";\nimport { emptyImageFilter } from \"./../utils/mixins\";\nimport { Toast } from \"./../utils/helpers\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  mixins: [emptyImageFilter],\n  components: {\n    TweetCards,\n    Spinner,\n    RepliedLikedTweetCards\n  },\n  props: {\n    initialUser: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      user: {},\n      userTweets: [],\n      replieds: [],\n      likeds: [],\n      nowPage: \"userTweet\",\n      isLoading: true,\n      isLoad: false,\n      isFirstLoad: true\n    };\n  },\n  watch: {\n    initialUser(newValue) {\n      this.user = {\n        ...this.user,\n        ...newValue,\n      };\n    },\n    deep: true,\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  created() {\n    this.fetchUser();\n    this.fetchUserTweets();\n    this.fetchUserRepliedTweets();\n    this.fetchUserLikedTweets();\n    this.showtweets(this.nowPage);\n  },\n  methods: {\n    async fetchUser() {\n      this.user = this.initialUser;\n    },\n    async fetchUserTweets() {\n      try {\n        const userId = this.currentUser.id;\n        const { data } = await usersAPI.getUserTweets({ userId });\n        // console.log('usetTweet',data)\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.userTweets = data;\n        this.userTweets = this.userTweets.sort((a, b) => {\n          a = new Date(a.createdAt);\n          b = new Date(b.createdAt);\n          return b - a;\n        });\n        this.isLoading = false;\n        this.isFirstLoad = false\n      } catch (error) {\n        this.isLoading = false;\n        this.isFirstLoad = false\n        console.log(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得使用者推文，請稍後再試\",\n        });\n      }\n    },\n    async fetchUserRepliedTweets() {\n      try {\n        const userId = this.currentUser.id;\n        const { data } = await usersAPI.getRepliedTweets({ userId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        if (data.message === \"使用者尚未回覆任何推文\") {\n          return\n        }\n        // console.log(\"replied\", data);\n        this.replieds = data;\n        this.replieds = this.replieds.sort((a, b) => {\n          a = new Date(a.createdAt);\n          b = new Date(b.createdAt);\n          return b - a;\n        });\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false;\n        console.log(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得使用者回覆過的推文，請稍後再試\",\n        });\n      }\n    },\n    async fetchUserLikedTweets() {\n      try {\n        const userId = this.currentUser.id;\n        // console.log(\"liked\", data);\n        const { data } = await usersAPI.getLikedTweets({ userId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        // console.log(\"liked\", data);\n        if (data.message === \"使用者尚未按任何推文讚\") {\n          return\n        }\n        this.likeds = data;\n        this.likeds = this.likeds.sort((a, b) => {\n          a = new Date(a.createdAt);\n          b = new Date(b.createdAt);\n          return b - a;\n        });\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false;\n        console.log(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得使用者喜歡的推文，請稍後再試\",\n        });\n      }\n    },\n    showtweets(page) {\n      this.nowPage = page;\n    },\n    afterAddLike () {\n      this.fetchUserTweets();\n      this.fetchUserRepliedTweets();\n      this.fetchUserLikedTweets();\n\n    },\n    afterDeleteLike () {\n      this.fetchUserTweets();\n      this.fetchUserRepliedTweets();\n      this.fetchUserLikedTweets();\n    }\n  },\n};\n</script>\n\n<style scoped>\n.header {\n  display: flex;\n  align-items: center;\n}\n\n.header-button {\n  border: none;\n  outline: none;\n  background-color: white;\n}\n\n.header .header-name {\n  font-size: 1.125rem;\n  line-height: 1.125rem;\n  font-weight: 900;\n}\n.header .header-userTweets {\n  font-size: 0.8125rem;\n  line-height: 0.8125rem;\n  font-weight: 500;\n  color: var(--form-text-color);\n}\n.card-img-top {\n  border-radius: 0;\n}\n.card-body {\n  position: relative;\n  padding: 0 20px;\n}\n.card-img-avatar {\n  border-radius: 100%;\n  border: 4px solid #ffffff;\n  position: absolute;\n  transform: translateY(-50%);\n  z-index: 999;\n}\n.card-body-text {\n  padding-top: 30px;\n}\n.card-body-account {\n  color: var(--form-text-color);\n}\n.card-body-button {\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 5px;\n}\n.card-body-button button {\n  margin-left: 5px;\n}\n.edit-profile-button,\n.button-follow,\n.button-following {\n  color: var(--orange);\n  border-color: var(--orange);\n  border-radius: 50px;\n  background-color: transparent;\n  box-shadow: none;\n}\n.edit-profile-button:hover,\n.edit-profile-button:active,\n.button-following {\n  background: var(--orange) !important;\n  color: var(--form-background-color);\n}\n\n.card-body-follow {\n  display: flex;\n  margin: 0.3rem 0;\n}\n.card-body-follow span {\n  color: var(--form-text-color);\n  margin-right: 1.2rem;\n}\n\n.nav-item .active {\n  background: transparent;\n  color: var(--orange);\n  border-bottom: 2px solid var(--orange);\n  border-radius: 0;\n}\n.tweet-cards {\n  max-height: 50%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentUserCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentUserCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurrentUserCard.vue?vue&type=template&id=79300cae&scoped=true&\"\nimport script from \"./CurrentUserCard.vue?vue&type=script&lang=js&\"\nexport * from \"./CurrentUserCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CurrentUserCard.vue?vue&type=style&index=0&id=79300cae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79300cae\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <Navbar :initial-now-page=\"nowPage\" />\n    <CurrentUserCard :initial-user=\"User\" :key=\"componentKey\" />\n    <MostFollowerUserRecommend @after-add-follow-user=\"afteraddFollowUser\" @after-delete-follow-user=\"afterdeleteFollowUser\"/>\n    <!-- modal 編輯使用者資料 -->\n    <UserPageEdit\n      :initial-user=\"User\"\n      :initial-is-processing=\"isProcessing\"\n      @after-submit=\"handleAfterSubmit\"\n    />\n\n    <TweetCreate @after-create-tweet=\"afterCreateTweet\" />\n  </div>\n</template>\n\n<script>\nimport Navbar from \"./../components/Navbar\";\nimport CurrentUserCard from \"./../components/CurrentUserCard\";\nimport UserPageEdit from \"./../components/UserPageEdit\";\nimport TweetCreate from \"./../components/TweetCreate\";\nimport MostFollowerUserRecommend from \"./../components/MostFollowerUserRecommend\";\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\nimport { mapState } from \"vuex\";\nimport $ from \"jquery\";\n\nexport default {\n  components: {\n    Navbar,\n    CurrentUserCard,\n    UserPageEdit,\n    TweetCreate,\n    MostFollowerUserRecommend,\n  },\n  data() {\n    return {\n      User: {},\n      isProcessing: false,\n      nowPage: \"profile\",\n      isLoading: true,\n      componentKey: 0,\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  created() {\n    this.fetchUser();\n  },\n  methods: {\n    async fetchUser() {\n      try {\n        const userId = this.currentUser.id;\n        const { data } = await usersAPI.get({ userId });\n  \n        this.User = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得資料，請稍後再試\",\n        });\n      }\n    },\n    async handleAfterSubmit(formData ) {\n      try {\n        this.isProcessing = true;\n        // console.log(\"formdata\", formData);\n        // for (let [name, value] of formData.entries()) {\n        //   console.log(name + \": \" + value);\n        // }\n\n        const { data } = await usersAPI.updateProfile({\n          userId: this.currentUser.id,\n          formData,\n        });\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        Toast.fire({\n          icon: \"success\",\n          title: \"更新成功\",\n        });\n        this.componentKey += 1;\n        this.fetchUser()\n        $(\"#user-edit-modal\").modal(\"hide\");\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        console.log(\"error\", error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法更新個人資料，請稍後再試\",\n        });\n      }\n    },\n    afterCreateTweet() {\n      this.componentKey += 1;  \n    },\n    afteraddFollowUser() {\n      this.User = {\n        ...this.User,\n        followingCount: this.User.followingCount + 1\n      }\n    },\n    afterdeleteFollowUser() {\n      this.User = {\n        ...this.User,\n        followingCount: this.User.followingCount - 1\n      }\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfilePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfilePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfilePage.vue?vue&type=template&id=32d8e926&\"\nimport script from \"./UserProfilePage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfilePage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentUserCard.vue?vue&type=style&index=0&id=79300cae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentUserCard.vue?vue&type=style&index=0&id=79300cae&scoped=true&lang=css&\""],"sourceRoot":""}