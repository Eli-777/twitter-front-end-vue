(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b868f40"],{"3f9d":function(e,t,r){},7384:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("Navbar"),r("div",{staticClass:"center-area",staticStyle:{width:"33rem"}},[r("div",{staticClass:"header"},[r("button",{staticClass:"header-button",attrs:{type:"button"},on:{click:function(t){return e.$router.back()}}},[e._v("←")]),r("div",{staticClass:"header-text m-3"},[r("p",{staticClass:"header-name"},[e._v(e._s(e.user.name))]),r("p",{staticClass:"header-userTweets"},[e._v(e._s(e.user.tweetCount)+"推文")])])]),r("ul",{staticClass:"nav nav-pills",attrs:{id:"nav-tab",role:"tablist"}},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link active",attrs:{to:{name:"user-follower",params:{id:e.$route.params.id}},"data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"}},[e._v("跟隨者")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false",to:{name:"user-following",params:{id:e.$route.params.id}}}},[e._v("正在跟隨")])],1)]),e.isLoading?r("Spinner"):[r("div",{staticClass:"tweet-cards overflow-auto"},e._l(e.followers,(function(e){return r("div",{key:e.id,staticClass:"tweetcard"},[r("UserFollowerCards",{attrs:{"initial-follower":e}})],1)})),0),e.followers.length<1?r("div",{staticClass:"noFollower"},[e._v("尚無跟隨者")]):e._e()]],2),r("MostFollowerUserRecommend"),r("TweetCreate")],1)},o=[],s=(r("96cf"),r("1da1")),n=r("d178"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tweetcard"},[r("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.follower.followerId}}}},[r("img",{staticClass:"tweetcard-avatar",attrs:{src:e._f("emptyImage")(e.follower.avatar),width:"50rem",height:"50rem"}})]),r("div",{staticClass:"tweetcard-right mt-2 mb-2"},[r("div",{staticClass:"tweetcard-right-top"},[r("div",{staticClass:"tweetcard-title"},[e._v(" "+e._s(e.follower.name)+" "),r("br"),r("span",{staticClass:"tweetcard-account"},[e._v("@"+e._s(e.follower.account))])]),e.currentUser.id!==e.follower.followerId?r("div",{staticClass:"tweetcard-icon mr-3"},[e.follower.isFollowedByLoginUser?r("button",{staticClass:"tweetcard-button isFollowed",class:{isFollowed:e.follower.isFollowedByLoginUser},attrs:{type:"submit"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteFollow(e.follower.followerId)}}},[e._v("正在跟隨")]):r("button",{staticClass:"tweetcard-button",class:{isFollowed:e.follower.isFollowedByLoginUser},attrs:{type:"submit"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addFollow(e.follower.followerId)}}},[e._v("跟隨")])]):e._e()]),r("div",{staticClass:"tweetcard-content"},[e._v(e._s(e.follower.introduction))])])],1)},i=[],c=(r("d3b7"),r("25f0"),r("5530")),u=r("2708"),d=r("2fa3"),w=r("4cce"),f=r("2f62"),v={mixins:[u["a"]],props:{initialFollower:{type:Object,required:!0}},data:function(){return{follower:[]}},computed:Object(c["a"])({},Object(f["b"])(["currentUser"])),created:function(){this.fetchFollower()},methods:{fetchFollower:function(){this.follower=this.initialFollower},addFollow:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a=e.toString(),r.next=4,w["a"].addFollowing({id:a});case 4:if(o=r.sent,s=o.data,"error"!==s.status){r.next=8;break}throw new Error(s.message);case 8:t.followerr=Object(c["a"])(Object(c["a"])({},t.follower),{},{isFollowedByLoginUser:!0}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),console.log(r.t0.message),d["a"].fire({icon:"error",title:"無法追蹤使用者稍後再試"});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},deleteFollow:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w["a"].deleteFollowing({userId:e});case 3:if(a=r.sent,o=a.data,"error"!==o.status){r.next=7;break}throw new Error(o.message);case 7:t.follower=Object(c["a"])(Object(c["a"])({},t.follower),{},{isFollowedByLoginUser:!1}),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0.message),d["a"].fire({icon:"error",title:"無法取消追蹤使用者稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()}}},m=v,p=(r("ecf6"),r("2877")),h=Object(p["a"])(m,l,i,!1,null,"3a96a982",null),b=h.exports,g=r("0c9e"),C=r("9fe7"),F=r("2375"),_={components:{Navbar:n["a"],UserFollowerCards:b,MostFollowerUserRecommend:g["a"],TweetCreate:C["a"],Spinner:F["a"]},data:function(){return{user:{},followers:[],isLoading:!0}},created:function(){var e=this.$route.params.id;this.fetchUser(e),this.fetchFollower(e)},beforeRouteUpdate:function(e,t,r){var a=e.params.id;this.fetchUser(a),this.fetchFollower(a),r()},methods:{fetchUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w["a"].get({userId:e});case 3:a=r.sent,o=a.data,t.user=o,r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0.message),d["a"].fire({icon:"error",title:"無法取得使用者者資料，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},fetchFollower:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w["a"].getFollower({userId:e});case 3:if(a=r.sent,o=a.data,t.followers=o,t.followers=t.followers.sort((function(e,t){return e=new Date(e.created_at),t=new Date(t.created_at),t-e})),"error"!==o.status){r.next=9;break}throw new Error(o.message);case 9:t.isLoading=!1,r.next=17;break;case 12:r.prev=12,r.t0=r["catch"](0),t.isLoading=!1,console.log(r.t0.message),d["a"].fire({icon:"error",title:"無法取得正在跟隨者資料，請稍後再試"});case 17:case"end":return r.stop()}}),r,null,[[0,12]])})))()}}},k=_,x=(r("7c03"),Object(p["a"])(k,a,o,!1,null,"50327c32",null));t["default"]=x.exports},"7c03":function(e,t,r){"use strict";var a=r("3f9d"),o=r.n(a);o.a},d1bb:function(e,t,r){},ecf6:function(e,t,r){"use strict";var a=r("d1bb"),o=r.n(a);o.a}}]);
//# sourceMappingURL=chunk-3b868f40.3002457e.js.map